repo_root = repo_volume()

# Load resources from namespace
resources = namespace_resources()

# Adapt frontend service
frontend = resources.deployments["frontend"]
frontend.mount(repo_root.subpath("src/frontend"), "/src")
frontend.map_port(local=8888, remote=8080)

# Adapt recommendations service
recommendations = resources.deployments["recommendations"]
recommendations.mount(repo_root.subpath("src/recommendationservice"), "/recommendationservice")

deploy(resources)
